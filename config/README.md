# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ VPN Telegram Bot

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å `config/config.py`. –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```
config/
‚îú‚îÄ‚îÄ config.py          # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ i18n/             # –§–∞–π–ª—ã –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ en.yaml       # –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥
    ‚îú‚îÄ‚îÄ ru.yaml       # –†—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥
    ‚îî‚îÄ‚îÄ de.yaml       # –ù–µ–º–µ—Ü–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥
```

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è:

```bash
cp .env.example .env
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### Telegram Bot
```env
TELEGRAM_TOKEN=your_telegram_bot_token_here
ADMIN_IDS=123456789,987654321
BOT_USERNAME=your_bot_username
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
```env
SERVER_IP=your.server.ip.here
SERVER_PUBLIC_KEY=your_wireguard_public_key_here
WG_PORT=51820
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```env
DB_PATH=data/subscriptions.db
DB_BACKUP_PATH=data/subscriptions.db.backup
```

#### –ü–ª–∞—Ç–µ–∂–∏
```env
# Crypto Pay
CRYPTO_PAY_TOKEN=your_crypto_pay_token_here

# YooKassa
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key
```

#### –†–µ–∂–∏–º –≤–µ–±—Ö—É–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```env
WEBHOOK_HOST=https://your-domain.com
WEBHOOK_SECRET=your_webhook_secret
```

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥**: `TRIAL_DAYS=10`
- **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã**: `REFERRAL_BONUS_FIRST=10`, `REFERRAL_BONUS_SUBSEQUENT=5`
- **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å**: `DAILY_BONUS_MIN=1`, `DAILY_BONUS_MAX=3`
- **–°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π**: `LEVEL_UP_POINTS=100`

### –¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–ª–∞–Ω—ã —Å–æ —Å–∫–∏–¥–∫–∞–º–∏:
- 1 –º–µ—Å—è—Ü - 200‚ÇΩ (–±–µ–∑ —Å–∫–∏–¥–∫–∏)
- 3 –º–µ—Å—è—Ü–∞ - 540‚ÇΩ (—Å–∫–∏–¥–∫–∞ 10%)
- 12 –º–µ—Å—è—Ü–µ–≤ - 2000‚ÇΩ (—Å–∫–∏–¥–∫–∞ 17%)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞**: `MAX_LOGIN_ATTEMPTS=5`
- **–¢–∞–π–º–∞—É—Ç —Å–µ—Å—Å–∏–∏**: `SESSION_TIMEOUT=86400` (24 —á–∞—Å–∞)
- **–¢–∞–π–º–∞—É—Ç –≤—Ö–æ–¥–∞**: `LOGIN_TIMEOUT=300` (5 –º–∏–Ω—É—Ç)

## üîß –§–ª–∞–≥–∏ —Ñ—É–Ω–∫—Ü–∏–π

–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
# –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
TRIAL_ENABLED=true
REFERRAL_ENABLED=true
DAILY_BONUS_ENABLED=true
MONITORING_ENABLED=true
SSL_ENABLED=false
```

## üöÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ú–æ–¥—É–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞—à—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:

```python
from config.config import validate_config

errors = validate_config()
if errors:
    print("–û—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:")
    for error in errors:
        print(f"  - {error}")
```

## üìä –°–≤–æ–¥–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü–æ–ª—É—á–∏—Ç–µ —Å–≤–æ–¥–∫—É —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```python
from config.config import get_config_summary

summary = get_config_summary()
print(summary)
```

## üåç –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —è–∑—ã–∫–æ–≤ —á–µ—Ä–µ–∑ YAML —Ñ–∞–π–ª—ã –≤ `config/i18n/`:

- –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (`en.yaml`)
- –†—É—Å—Å–∫–∏–π (`ru.yaml`)
- –ù–µ–º–µ—Ü–∫–∏–π (`de.yaml`)

–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —è–∑—ã–∫–∏, —Å–æ–∑–¥–∞–≤ –Ω–æ–≤—ã–π YAML —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º —è–∑—ã–∫–∞.

## üîê –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env`** –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –≤–µ–±—Ö—É–∫–æ–≤** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π
4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç–∞–π–º–∞—É—Ç—ã —Å–µ—Å—Å–∏–π**
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π**

## üê≥ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Docker –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```yaml
environment:
  - TELEGRAM_TOKEN=${TELEGRAM_TOKEN}
  - SERVER_IP=${SERVER_IP}
  - WEBHOOK_HOST=${WEBHOOK_HOST}
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2. **–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ ID –∞–¥–º–∏–Ω–æ–≤**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ADMIN_IDS - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—è—Ç—ã–º–∏
3. **–ü—Ä–æ–±–ª–µ–º—ã –≤–µ–±—Ö—É–∫–∞**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ WEBHOOK_HOST –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª (https://)
4. **–°–±–æ–∏ –ø–ª–∞—Ç–µ–∂–µ–π**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –ø–ª–∞—Ç–µ–∂–µ–π –∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ API

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```bash
python -c "from config.config import validate_config; print(validate_config())"
```

### –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
python -c "from config.config import get_config_summary; import json; print(json.dumps(get_config_summary(), indent=2))"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Bot API](https://core.telegram.org/bots/api)
- [WireGuard Documentation](https://www.wireguard.com/)
- [Crypto Pay API](https://help.crypt.bot/crypto-pay-api)
- [YooKassa API](https://yookassa.ru/developers/api)